if (self.CavalryLogger) { CavalryLogger.start_js(["Nqlck"]); }

__d("FriendingCometFriendRequestSendMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},e=[{kind:"Literal",name:"action_type",value:"FRIEND"},{kind:"Literal",name:"render_location",value:"WWW_COMET_PROFILE"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FriendingCometFriendRequestSendMutation",selections:[{alias:null,args:b,concreteType:"FriendRequestSendResponsePayload",kind:"LinkedField",name:"friend_request_send",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"friend_requestees",plural:!0,selections:[c,d,{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileActionMutationUtils_action"}],storageKey:'profile_action(action_type:"FRIEND",render_location:"WWW_COMET_PROFILE")'},{args:null,kind:"FragmentSpread",name:"ProfileCometTimelineTabTopBanner_user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FriendingCometFriendRequestSendMutation",selections:[{alias:null,args:b,concreteType:"FriendRequestSendResponsePayload",kind:"LinkedField",name:"friend_request_send",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"friend_requestees",plural:!0,selections:[c,d,{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isProfileAction"},{alias:null,args:[{kind:"Literal",name:"icon_color",value:"fds-black"},{kind:"Literal",name:"icon_size",value:"16"},{kind:"Literal",name:"icon_variant",value:"filled"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},c,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]}],storageKey:'profile_action(action_type:"FRIEND",render_location:"WWW_COMET_PROFILE")'},{alias:null,args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_TOP"},{kind:"Literal",name:"supported",value:["ProfilePlusAdminNotice","ProfileAppealBanner","ProfileBanner","ProfileEscapeHatch","ProfilePYMKBanner"]}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfilePlusCometAdminNotice_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusAdminNotice",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometAppealBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileAppealBanner",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometBannerGeneric_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileBanner",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometEscapeHatch_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileEscapeHatch",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"FriendingCometProfilePYMKHScroll_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePYMKBanner",abstractKey:null},{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_TOP",supported:["ProfilePlusAdminNotice","ProfileAppealBanner","ProfileBanner","ProfileEscapeHatch","ProfilePYMKBanner"])'}],storageKey:null}],storageKey:null}]},params:{id:"3430542163730133",metadata:{},name:"FriendingCometFriendRequestSendMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ProfileActionMutationUtils_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"ProfileActionMutationUtils_action",selections:[{alias:null,args:[{kind:"Literal",name:"icon_color",value:"fds-black"},{kind:"Literal",name:"icon_size",value:"16"},{kind:"Literal",name:"icon_variant",value:"filled"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]}],type:"ProfileAction",abstractKey:"__isProfileAction"};e.exports=a}),null);
__d("ProfileCometHeaderActionBarButton_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"ProfileCometHeaderActionBarButton_action",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},action:"THROW",path:"title.text"}],storageKey:null},action:"THROW",path:"title"},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{kind:"RequiredField",field:{alias:"primary_icon",args:[{kind:"Literal",name:"icon_color",value:"fds-black"},{kind:"Literal",name:"icon_size",value:"16"},{kind:"Literal",name:"icon_variant",value:"filled"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},action:"THROW",path:"primary_icon"},{alias:null,args:null,kind:"ScalarField",name:"profile_action_type",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]}],type:"ProfileAction",abstractKey:"__isProfileAction"};e.exports=a}),null);
__d("ProfileCometHeaderActionBar_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"render_location",variableName:"userActionBarRenderLocation"};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"entityID"},{defaultValue:"WWW_COMET_PROFILE",kind:"LocalArgument",name:"userActionBarRenderLocation"}],kind:"Fragment",metadata:null,name:"ProfileCometHeaderActionBar_actor",selections:[{kind:"RequiredField",field:{alias:null,args:[{kind:"Variable",name:"associated_entity_id",variableName:"entityID"},a],concreteType:null,kind:"LinkedField",name:"profile_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_secondary_only",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometHeaderActionBarButton_action"},{args:null,kind:"FragmentSpread",name:"ProfileCometActionTrigger_action"}],storageKey:null},action:"NONE",path:"profile_actions"},{args:[{kind:"Variable",name:"entityID",variableName:"entityID"},a],kind:"FragmentSpread",name:"ProfileCometHeaderActionBarMoreMenu_actorWithActionBar"}],type:"ActorWithActionBar",abstractKey:"__isActorWithActionBar"}}();e.exports=a}),null);
__d("ProfileCometActionFriendRequestHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e=[b];return{kind:"SplitOperation",metadata:{},name:"ProfileCometActionFriendRequestHandler_handler$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[a,b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"restrictable_profile_owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[b,c,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},d],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,c,d],type:"RestrictedUser",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:e,storageKey:null}],type:"ProfileActionFriendRequest",abstractKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("ProfileCometActionFriendRequestHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometActionFriendRequestHandler_handler",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"restrictable_profile_owner",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"RestrictedUser",abstractKey:null}],storageKey:null}],type:"ProfileActionFriendRequest",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometActiveFriendMenu_action"},{args:null,kind:"FragmentSpread",name:"ProfileCometIncomingFriendRequestMenu_action"}],storageKey:null}],type:"ProfileActionFriendRequestHandler",abstractKey:null}}();e.exports=a}),null);
__d("FriendRequestError",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SELF_OVER_FRIEND_LIMIT:1431006,SELF_OVER_FRIEND_LIMIT_SUBSCRIBED:1431016,SIGMA_WARN:1407026});e.exports=a}),null);
__d("FriendingCometErrorHandler.react",["fbt","CometRelayErrorHandling","FriendRequestError","JSResourceForInteraction","React","SilenceableErrorMessageUtils","cometPushToast","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";f.useFriendingErrorHandler=a;var h=b("React"),i=b("JSResourceForInteraction")("FriendingCometErrorDialog.react").__setRef("FriendingCometErrorHandler.react");function a(a){var c=b("useCometLazyDialog")(i),d=c[0],e=h.useCallback(function(c){var f=b("SilenceableErrorMessageUtils").getMetadataFromError(c);if(b("SilenceableErrorMessageUtils").shouldHideErrorMessage(f))return;c.name==="NetworkTransportError"?b("cometPushToast").cometPushErrorToast({message:g._("Connection error. Please check your Internet connection.")},5e3):(c.code===b("FriendRequestError").SELF_OVER_FRIEND_LIMIT||c.code===b("FriendRequestError").SELF_OVER_FRIEND_LIMIT_SUBSCRIBED||c.code===b("FriendRequestError").SIGMA_WARN)&&(b("CometRelayErrorHandling").markErrorAsHandled(c),d({addFriendErrorHandler:e,addFriendId:a.addFriendId,addFriendSource:a.addFriendSource,error:c}))},[a.addFriendId,a.addFriendSource,d]);return e}}),null);
__d("ProfileActionMutationUtils",["fbt","CometRelay","WebPixelRatio","ProfileActionMutationUtils_action.graphql"],(function(a,b,c,d,e,f,g){"use strict";f.getFakeProfileActionID=a;f.getOptimisticActionForFriendshipStatus=c;var h;h!==void 0?h:h=b("ProfileActionMutationUtils_action.graphql");function a(a,b,c,d){return btoa("profile_action"+a+":"+b+":"+((a=c)!=null?a:"")+":"+((b=d)!=null?b:""))}function c(a){var c="";switch(a){case"ARE_FRIENDS":c=g._("Friends").toString();break;case"CAN_REQUEST":c=g._("Add Friend").toString();break;case"INCOMING_REQUEST":c=g._("Respond").toString();break;case"OUTGOING_REQUEST":c=g._("Cancel Request").toString();break}return{__typename:"ProfileActionFriendRequest",icon_image:{height:16*b("WebPixelRatio").get(),scale:b("WebPixelRatio").get(),uri:null,width:16*b("WebPixelRatio").get()},is_optimistic_update:!0,title:{text:c}}}}),null);
__d("FriendingCometFriendRequestSendMutation",["CometRelay","ProfileActionMutationUtils","WebPixelRatio","FriendingCometFriendRequestSendMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("FriendingCometFriendRequestSendMutation.graphql");function a(a,c,d,e,f,g){var i=b("ProfileActionMutationUtils").getOptimisticActionForFriendshipStatus("OUTGOING_REQUEST");return b("CometRelay").commitMutation(a,{mutation:h,onError:e,optimisticResponse:{friend_request_send:{friend_requestees:[{comet_profile_banner:null,friendship_status:"OUTGOING_REQUEST",id:c,profile_action:babelHelpers["extends"]({},i,{id:b("ProfileActionMutationUtils").getFakeProfileActionID(c,1)})}]}},variables:{input:{friend_requestee_ids:[c],people_you_may_know_location:f,refs:[g],source:d},scale:b("WebPixelRatio").get()}})}}),null);
__d("ProfileCometHeaderActionBarButton.react",["CometProgressRingIndeterminate.react","CometRelay","ProfileCometContextualProfileContext","React","TetraButton.react","TintableIconSource","coerceRelayImage","stylex","useProfileEngagementClickCallback","ProfileCometHeaderActionBarButton_action.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a,c){var d=a.action,e=a.labelIsHidden;e=e===void 0?!1:e;var f=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","labelIsHidden","onPress"]);d=b("CometRelay").useFragment(g!==void 0?g:g=b("ProfileCometHeaderActionBarButton_action.graphql"),d);var i=h.useContext(b("ProfileCometContextualProfileContext")),j=i.groupID,k=i.userID,l=(d.profile_action_type||"unknown").toLowerCase();i=i.isContextualProfileView?{event_metadata:{entry_point:l==="edit_contextual_profile"?"self-view_edit_profile":"",groupID:j},item_subtype:l==="edit_contextual_profile"?"contextual_profile_edit":null,item_type:l,product_bucket:"contextual_profile",profile_id_dummy:k,surface:"group_contextual_profile"}:{item_type:l,product_bucket:"action_bar",surface:"timeline"};j=b("useProfileEngagementClickCallback")(i,f);k=d.primary_icon;l=d.title.text;i="";switch(d.profile_action_type){case"FRIEND":i="add_button";break;case"MANAGE_MEMORIALIZED_ACCOUNT":i="memorialization_manage_memorialization_button";break;default:i=l}f=d.is_optimistic_update===!0;i=f?h.jsx(b("CometProgressRingIndeterminate.react"),{color:"dark",size:16}):void 0;f=!f&&(k==null?void 0:k.uri)!=null?new(b("TintableIconSource"))("FB",b("coerceRelayImage")(k),16):void 0;return h.jsx("div",{className:e?"":"k4urcfbm",ref:c,children:h.jsx(b("TetraButton.react"),babelHelpers["extends"]({},a,{addOnPrimary:i,icon:f,label:l,labelIsHidden:e,onPress:j,reduceEmphasis:d.is_active===!0,size:"medium",testid:void 0,tooltip:e?l:null,type:d.is_active===!0?"primary":"secondary"}))})}c=h.forwardRef(a);e.exports=c}),null);
__d("partitionArray",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b,c){var d=[],e=[];a.forEach(function(f,g){b.call(c,f,g,a)?d.push(f):e.push(f)});return[d,e]}}),null);
__d("ProfileCometHeaderActionBar.react",["ix","fbt","CometDeferredPopoverTrigger.react","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","ProfileCometActionTrigger.react","ProfileCometHeaderActionBarButton.react","React","TetraButton.react","fbicon","gkx","partitionArray","requireDeferred","stylex","ProfileCometHeaderActionBar_actor.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React"),l=b("requireDeferred")("ProfileCometHeaderActionBarMoreMenu.react"),m={buttonContainer:{marginStart:"h676nmdw"},buttonContainerExpanded:{flexGrow:"buofh1pr",maxWidth:"h8xcmbcu"},buttonContainerExpandedLong:{flexGrow:"buofh1pr",maxWidth:"r2nqfv2r"},buttonContainerForHovercards:{flexGrow:"buofh1pr",maxWidth:"nxkscmto"},buttonsCentered:{justifyContent:"taijpn5t"},buttonsEnd:{justifyContent:"bkfpd7mw"},root:{alignItems:"bp9cbjyn",display:"j83agx80",marginStart:"fop5sh7t",width:"g2wf7z4h"},rootPadded:{paddingBottom:"f10w8fjw",paddingTop:"pybr56ya"}},n=3;function a(a){var c=a.actor,d=a.centerButtons;d=d===void 0?!0:d;var e=a.expanded,f=e===void 0?!1:e;e=a.noPadding;e=e===void 0?!1:e;a=a.source;var o=a===void 0?"WWW_COMET_PROFILE":a;a=b("CometRelay").useFragment(i!==void 0?i:i=b("ProfileCometHeaderActionBar_actor.graphql"),c);if(a==null)return null;c=a.profile_actions;if(c.length===0)return null;c=b("partitionArray")(c,function(a){return a.is_secondary_only===!0});var p=c[0];c=c[1];var q=c.slice(0,n);c=[].concat(c.slice(n),p);p=k.jsxs(k.Fragment,{children:[q.map(function(a,c){return k.jsx("div",{className:(j||(j=b("stylex")))(m.buttonContainer,c===0&&(f?m.buttonContainerForHovercards:m.buttonContainerExpanded)),children:k.jsx(b("ProfileCometHeaderActionBarButton.react"),{action:a,disabled:!0,labelIsHidden:c>0})},c)}),c.length>0&&k.jsx("div",{className:(j||(j=b("stylex")))(m.buttonContainer),children:k.jsx(b("TetraButton.react"),{disabled:!0,icon:b("fbicon")._(g("484386"),16),label:h._("More"),labelIsHidden:!0,type:"secondary"})})]});return k.jsx(b("CometErrorBoundary.react"),{children:k.jsx("div",{className:(j||(j=b("stylex")))(m.root,!e&&m.rootPadded,d?m.buttonsCentered:m.buttonsEnd),"data-testid":void 0,children:k.jsxs(b("CometPlaceholder.react"),{fallback:p,children:[q.map(function(a,c){return k.jsx("div",{className:(j||(j=b("stylex")))(m.buttonContainer,c===0&&(f?m.buttonContainerForHovercards:b("gkx")("1849752")?m.buttonContainerExpandedLong:m.buttonContainerExpanded)),children:k.jsx(b("CometErrorBoundary.react"),{children:k.jsx(b("ProfileCometActionTrigger.react"),{action:a,source:o,children:function(d){return k.jsx(b("ProfileCometHeaderActionBarButton.react"),babelHelpers["extends"]({},d,{action:a,labelIsHidden:c>0}))}})})},c)}),c.length>0&&k.jsx("div",{className:(j||(j=b("stylex")))(m.buttonContainer),children:k.jsx(b("CometDeferredPopoverTrigger.react"),{align:"middle",popoverProps:{actor:a},popoverResource:l,popoverType:"menu",children:function(a,c){return k.jsx(b("TetraButton.react"),{icon:b("fbicon")._(g("484386"),16),label:h._("More"),labelIsHidden:!0,onPress:c,ref:a,testid:void 0,type:"secondary"})}})})]})})})}}),null);
__d("ProfileCometActionFriendRequestHandler.react",["CometLazyPopoverTrigger.react","CometRelay","FriendingCometErrorHandler.react","FriendingCometFriendRequestSendMutation","JSResourceForInteraction","React","promiseDone","recoverableViolation","ProfileCometActionFriendRequestHandler_handler.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("JSResourceForInteraction")("ProfileCometActiveFriendMenu.react").__setRef("ProfileCometActionFriendRequestHandler.react"),j=b("JSResourceForInteraction")("ProfileCometIncomingFriendRequestMenu.react").__setRef("ProfileCometActionFriendRequestHandler.react"),k=b("JSResourceForInteraction")("FriendingCometFriendRequestCancelMutation").__setRef("ProfileCometActionFriendRequestHandler.react");function a(a){var c,d,e=a.children,f=a.handler,l=a.popoverPosition;a=a.source;var m=b("CometRelay").useRelayEnvironment();f=b("CometRelay").useFragment(g!==void 0?g:g=b("ProfileCometActionFriendRequestHandler_handler.graphql"),f);f=f.profile_action;var n=(f==null?void 0:(c=f.restrictable_profile_owner)==null?void 0:c.id)||"0";n==="0"&&b("recoverableViolation")("Missing profile ID","profile_comet");var o;switch(a){case"WWW_COMET_HOVERCARD":o="hovercard";break;case"WWW_COMET_PROFILE_FRIENDS_TAB":o="profile_friends";break;default:o="profile_button";break}var p=b("FriendingCometErrorHandler.react").useFriendingErrorHandler({addFriendId:n,addFriendSource:"profile_button"});c=h.useCallback(function(){b("FriendingCometFriendRequestSendMutation").commit(m,n,o,p)},[m,p,o,n]);a=h.useCallback(function(){b("promiseDone")(k.load().then(function(a){a=a.commit;a(m,n,"profile",p)}))},[m,p,n]);d=f==null?void 0:(d=f.restrictable_profile_owner)==null?void 0:d.friendship_status;if(d==null){b("recoverableViolation")("Failed to fetch friendship status for profile "+n,"profile_comet");return null}var q=null;switch(d){case"ARE_FRIENDS":q=i;break;case"CAN_REQUEST":return e({onPress:c});case"INCOMING_REQUEST":q=j;break;case"OUTGOING_REQUEST":return e({onPress:a});case"CANNOT_REQUEST":return null;default:b("recoverableViolation")("Unknown friendship status "+d+" for profile "+n,"profile_comet");return null}return!q||!f?e({}):h.jsx(b("CometLazyPopoverTrigger.react"),{popoverProps:{action:f},popoverResource:q,position:l,preloadTrigger:"button",children:function(a,b,c,d,f,g){return e({onHoverIn:d,onHoverOut:f,onPress:b,onPressIn:g,ref:a})}})}}),null);